<!DOCTYPE html>
<html lang="th">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>รายงานไอดีโดนโกง - RENEKANKHA</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Noto+Sans+Thai:wght@300;400;500;600;700&display=swap" rel="stylesheet">
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		html, body {
			width: 100%;
			height: 100%;
		}

		body {
			font-family: 'Poppins', 'Noto Sans Thai', sans-serif;
			background: radial-gradient(circle at 20% 80%, rgba(255,107,107,.08) 0%, transparent 40%),
						radial-gradient(circle at 80% 20%, rgba(78,205,196,.06) 0%, transparent 40%),
						linear-gradient(135deg, #0a0a0a 0%, #0f0f1e 100%);
			color: white;
			min-height: 100vh;
			padding: 20px;
			overflow-x: hidden;
		}

		/* Animated Background */
		.bg-accent {
			position: fixed;
			opacity: 0.03;
			pointer-events: none;
			z-index: 0;
		}

		.bg-blob-1 {
			width: 350px;
			height: 350px;
			background: radial-gradient(circle, #ff6b6b, transparent);
			border-radius: 50%;
			top: -120px;
			right: -120px;
			animation: float 20s infinite ease-in-out;
		}

		.bg-blob-2 {
			width: 300px;
			height: 300px;
			background: radial-gradient(circle, #4ecdc4, transparent);
			border-radius: 50%;
			bottom: -100px;
			left: -100px;
			animation: float 22s infinite ease-in-out reverse;
		}

		@keyframes float {
			0%, 100% { transform: translateY(0px); }
			50% { transform: translateY(-40px); }
		}

		.header {
			text-align: center;
			margin-bottom: 48px;
			animation: slideDown 0.8s ease-out;
			position: relative;
			z-index: 1;
		}

		.back-btn {
			display: inline-block;
			margin-bottom: 24px;
			padding: 10px 20px;
			background: rgba(255,255,255,.06);
			border: 1px solid rgba(255,255,255,.1);
			border-radius: 8px;
			color: rgba(255,255,255,.7);
			text-decoration: none;
			font-size: 13px;
			cursor: pointer;
			transition: all 0.3s ease;
			font-weight: 500;
		}

		.back-btn:hover {
			background: rgba(34,197,94,.15);
			border-color: rgba(34,197,94,.3);
			color: #22c55e;
			transform: translateX(4px);
		}

		h1 {
			font-size: 52px;
			font-weight: 800;
			margin-bottom: 8px;
			background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
			letter-spacing: -0.5px;
		}

		.subtitle {
			color: rgba(255,255,255,.55);
			font-size: 15px;
			font-weight: 300;
			letter-spacing: 0.3px;
		}

		@keyframes slideDown {
			from {
				opacity: 0;
				transform: translateY(-30px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		.container {
			max-width: 1100px;
			margin: 0 auto;
			position: relative;
			z-index: 1;
		}

		/* Stats Bar */
		.stats-bar {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
			gap: 14px;
			margin-bottom: 36px;
			animation: slideUp 0.6s ease-out 0.1s both;
		}

		@keyframes slideUp {
			from {
				opacity: 0;
				transform: translateY(30px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		.stat-card {
			background: rgba(255,255,255,.02);
			border: 1px solid rgba(255,255,255,.08);
			border-radius: 12px;
			padding: 18px;
			backdrop-filter: blur(10px);
			text-align: center;
			transition: all 0.3s ease;
		}

		.stat-card:hover {
			background: rgba(255,255,255,.04);
			border-color: rgba(255,107,107,.2);
			transform: translateY(-3px);
		}

		.stat-icon {
			font-size: 28px;
			margin-bottom: 6px;
		}

		.stat-number {
			font-size: 26px;
			font-weight: 700;
			background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 100%);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
			margin-bottom: 4px;
		}

		.stat-label {
			font-size: 11px;
			color: rgba(255,255,255,.55);
			font-weight: 500;
		}

		/* Filters */
		.filters {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
			gap: 10px;
			margin-bottom: 32px;
			animation: slideUp 0.6s ease-out 0.15s both;
		}

		select {
			padding: 10px 12px;
			background: rgba(255,255,255,.04);
			border: 1px solid rgba(255,255,255,.08);
			border-radius: 8px;
			color: white;
			font-family: 'Poppins', sans-serif;
			font-size: 12px;
			cursor: pointer;
			transition: all 0.3s ease;
		}

		select:hover {
			background: rgba(255,255,255,.06);
			border-color: rgba(255,255,255,.12);
		}

		select:focus {
			outline: none;
			background: rgba(255,255,255,.06);
			border-color: rgba(255,107,107,.4);
			box-shadow: 0 0 12px rgba(255,107,107,.08);
		}

		/* Reports Grid */
		.reports-grid {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(310px, 1fr));
			gap: 18px;
			animation: slideUp 0.6s ease-out 0.2s both;
		}

		.report-card {
			background: rgba(255,255,255,.02);
			border: 1px solid rgba(255,255,255,.08);
			border-radius: 12px;
			padding: 20px;
			backdrop-filter: blur(10px);
			overflow: hidden;
			position: relative;
			animation: scaleIn 0.5s ease-out both;
			transition: all 0.3s ease;
		}

		@keyframes scaleIn {
			from {
				opacity: 0;
				transform: scale(0.92);
			}
			to {
				opacity: 1;
				transform: scale(1);
			}
		}

		.report-card:hover {
			background: rgba(255,255,255,.04);
			border-color: rgba(255,107,107,.2);
			transform: translateY(-6px);
			box-shadow: 0 12px 32px rgba(255,107,107,.08);
		}

		.report-card::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			height: 2px;
			background: linear-gradient(90deg, #ff6b6b 0%, #ee5a24 100%);
			opacity: 0;
			transition: opacity 0.3s ease;
		}

		.report-card:hover::before {
			opacity: 1;
		}

		.card-header {
			display: flex;
			justify-content: space-between;
			align-items: flex-start;
			margin-bottom: 14px;
			padding-bottom: 12px;
			border-bottom: 1px solid rgba(255,255,255,.06);
		}

		.card-type-badge {
			display: inline-block;
			padding: 4px 10px;
			background: rgba(255,107,107,.1);
			border: 1px solid rgba(255,107,107,.2);
			border-radius: 6px;
			font-size: 11px;
			font-weight: 600;
			color: #ff6b6b;
		}

		.card-date {
			font-size: 11px;
			color: rgba(255,255,255,.45);
			font-weight: 500;
		}

		.card-field {
			margin-bottom: 10px;
		}

		.card-field-label {
			font-size: 10px;
			color: rgba(255,255,255,.45);
			text-transform: uppercase;
			letter-spacing: 0.4px;
			font-weight: 600;
			margin-bottom: 2px;
		}

		.card-field-value {
			font-size: 13px;
			color: rgba(255,255,255,.8);
			word-break: break-word;
		}

		.card-field-value a {
			color: #4ecdc4;
			text-decoration: none;
			transition: all 0.2s ease;
		}

		.card-field-value a:hover {
			color: #45b7d1;
			text-decoration: underline;
		}

		.card-method {
			display: inline-block;
			padding: 4px 10px;
			background: rgba(78,205,196,.1);
			border-radius: 6px;
			font-size: 11px;
			color: #4ecdc4;
			margin-bottom: 10px;
		}

		.card-loss {
			padding: 10px;
			background: rgba(255,107,107,.08);
			border-left: 2px solid #ff6b6b;
			border-radius: 4px;
			margin: 12px 0;
		}

		.loss-label {
			font-size: 10px;
			color: rgba(255,255,255,.5);
			text-transform: uppercase;
			margin-bottom: 2px;
		}

		.loss-amount {
			font-size: 20px;
			font-weight: 700;
			color: #ff6b6b;
		}

		.card-description {
			font-size: 12px;
			color: rgba(255,255,255,.6);
			line-height: 1.4;
			max-height: 100px;
			overflow-y: auto;
			padding: 10px;
			background: rgba(255,255,255,.01);
			border-radius: 6px;
			margin-top: 10px;
		}

		/* Card Footer */
		.card-footer {
			display: flex;
			gap: 6px;
			margin-top: 12px;
			padding-top: 12px;
			border-top: 1px solid rgba(255,255,255,.06);
		}

		.card-btn {
			flex: 1;
			padding: 7px;
			background: rgba(255,107,107,.08);
			border: 1px solid rgba(255,107,107,.15);
			border-radius: 6px;
			color: #ff6b6b;
			font-size: 11px;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.2s ease;
		}

		.card-btn:hover {
			background: rgba(255,107,107,.15);
			border-color: rgba(255,107,107,.3);
		}

		/* Empty State */
		.empty-state {
			text-align: center;
			padding: 60px 20px;
		}

		.empty-icon {
			font-size: 60px;
			margin-bottom: 16px;
		}

		.empty-text {
			color: rgba(255,255,255,.5);
			font-size: 15px;
			margin-bottom: 20px;
		}

		.report-btn {
			display: inline-block;
			padding: 10px 24px;
			background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
			border: none;
			border-radius: 8px;
			color: white;
			text-decoration: none;
			font-weight: 700;
			font-size: 13px;
			cursor: pointer;
			transition: all 0.3s ease;
			box-shadow: 0 6px 20px rgba(255,107,107,.2);
		}

		.report-btn:hover {
			transform: translateY(-2px);
			box-shadow: 0 10px 28px rgba(255,107,107,.3);
		}

		/* Modal */
		.modal {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: rgba(0,0,0,.7);
			backdrop-filter: blur(5px);
			z-index: 1000;
			align-items: center;
			justify-content: center;
		}

		.modal.active {
			display: flex;
			animation: fadeIn 0.3s ease-out;
		}

		@keyframes fadeIn {
			from { opacity: 0; }
			to { opacity: 1; }
		}

		.modal-content {
			background: linear-gradient(135deg, rgba(12,12,12,.95) 0%, rgba(20,20,20,.95) 100%);
			border: 1px solid rgba(255,255,255,.1);
			border-radius: 12px;
			padding: 28px;
			max-width: 550px;
			max-height: 80vh;
			overflow-y: auto;
			animation: slideUp 0.3s ease-out;
			position: relative;
		}

		.modal-header {
			font-size: 22px;
			font-weight: 700;
			margin-bottom: 16px;
			color: rgba(255,255,255,.9);
		}

		.modal-close {
			position: absolute;
			top: 16px;
			right: 16px;
			background: rgba(255,255,255,.08);
			border: none;
			width: 28px;
			height: 28px;
			border-radius: 50%;
			color: white;
			cursor: pointer;
			font-size: 16px;
			transition: all 0.2s ease;
		}

		.modal-close:hover {
			background: rgba(255,107,107,.2);
		}

		@media (max-width: 768px) {
			h1 {
				font-size: 36px;
			}

			.reports-grid {
				grid-template-columns: 1fr;
			}

			.stats-bar {
				grid-template-columns: repeat(2, 1fr);
			}

			.modal-content {
				max-width: 90vw;
				padding: 20px;
			}
		}
	</style>
</head>
<body>
	<!-- Background Elements -->
	<div class="bg-accent bg-blob-1"></div>
	<div class="bg-accent bg-blob-2"></div>

	<div class="container">
		<div class="header">
			<a href="services-scammed-account.html" class="back-btn">+ แจ้งรายงานใหม่</a>
			<h1>รายงานไอดีโดนโกง</h1>
			<p class="subtitle">รวมรายงานจากทั้งหมดที่ถูกโกงเพื่อใช้ประกอบการตรวจสอบ</p>
		</div>

		<!-- Stats Bar -->
		<div class="stats-bar">
			<div class="stat-card">
				<div class="stat-icon">📊</div>
				<div class="stat-number" id="totalReports">0</div>
				<div class="stat-label">รายงานทั้งหมด</div>
			</div>
			<div class="stat-card">
				<div class="stat-icon">💰</div>
				<div class="stat-number" id="totalLoss">0</div>
				<div class="stat-label">เสียหายรวม (฿)</div>
			</div>
			<div class="stat-card">
				<div class="stat-icon">🎮</div>
				<div class="stat-number" id="garenaCount">0</div>
				<div class="stat-label">Garena ID</div>
			</div>
			<div class="stat-card">
				<div class="stat-icon">👥</div>
				<div class="stat-number" id="facebookCount">0</div>
				<div class="stat-label">Facebook</div>
			</div>
			<div class="stat-card">
				<div class="stat-icon">📧</div>
				<div class="stat-number" id="gmailCount">0</div>
				<div class="stat-label">Gmail</div>
			</div>
		</div>

		<!-- Filters -->
		<div class="filters">
			<select id="typeFilter">
				<option value="">ทั้งหมด</option>
				<option value="garena">🎮 Garena ID</option>
				<option value="facebook">👥 Facebook</option>
				<option value="gmail">📧 Gmail</option>
			</select>
			<select id="methodFilter">
				<option value="">ทั้งหมด (วิธีการโกง)</option>
				<option value="password">🔑 แฮก</option>
				<option value="phishing">🎣 Phishing</option>
				<option value="fb-pull">👥 ดึงเฟส</option>
				<option value="keylogger">⌨️ Keylogger</option>
				<option value="social-engineering">🎭 Social Eng.</option>
				<option value="account-takeover">🚫 ยืม</option>
			</select>
			<select id="sortFilter">
				<option value="newest">ล่าสุดก่อน</option>
				<option value="oldest">เก่าสุดก่อน</option>
				<option value="loss-high">เสียหายมากสุด</option>
				<option value="loss-low">เสียหายน้อยสุด</option>
			</select>
		</div>

		<!-- Reports Grid -->
		<div class="reports-grid" id="reportsGrid">
			<div class="empty-state">
				<div class="empty-icon">📋</div>
				<p class="empty-text">ยังไม่มีรายงาน</p>
				<a href="services-scammed-account.html" class="report-btn">แจ้งรายงานเดี๋ยวนี้</a>
			</div>
		</div>
	</div>

	<!-- Modal -->
	<div class="modal" id="detailModal">
		<div class="modal-content">
			<button class="modal-close" id="closeModal">✕</button>
			<div id="modalBody"></div>
		</div>
	</div>

	<script>
		let allReports = [];

		function loadReports() {
			allReports = JSON.parse(localStorage.getItem('scamReports') || '[]');
			updateStats();
			renderReports();
		}

		function updateStats() {
			const total = allReports.length;
			const totalLoss = allReports.reduce((sum, r) => sum + (r.lossAmount || 0), 0);
			const garena = allReports.filter(r => r.type === 'garena').length;
			const facebook = allReports.filter(r => r.type === 'facebook').length;
			const gmail = allReports.filter(r => r.type === 'gmail').length;

			document.getElementById('totalReports').textContent = total;
			document.getElementById('totalLoss').textContent = totalLoss.toLocaleString('th-TH', { maximumFractionDigits: 0 });
			document.getElementById('garenaCount').textContent = garena;
			document.getElementById('facebookCount').textContent = facebook;
			document.getElementById('gmailCount').textContent = gmail;
		}

		function formatDate(dateStr) {
			const date = new Date(dateStr);
			return date.toLocaleDateString('th-TH', { year: 'numeric', month: 'short', day: 'numeric' });
		}

		function getMethodLabel(method) {
			const methods = {
				'password': '🔑 แฮก',
				'phishing': '🎣 Phishing',
				'fb-pull': '👥 ดึงเฟส',
				'keylogger': '⌨️ Keylogger',
				'social-engineering': '🎭 Social Eng.',
				'account-takeover': '🚫 ยืม'
			};
			return methods[method] || method;
		}

		function getTypeBadge(type) {
			const types = {
				'garena': '🎮 Garena',
				'facebook': '👥 Facebook',
				'gmail': '📧 Gmail'
			};
			return types[type] || type;
		}

		function renderReports() {
			let filtered = allReports;

			const typeFilter = document.getElementById('typeFilter');
			if (typeFilter && typeFilter.value) filtered = filtered.filter(r => r.type === typeFilter.value);

			const methodFilter = document.getElementById('methodFilter');
			if (methodFilter && methodFilter.value) filtered = filtered.filter(r => r.howScammed === methodFilter.value);

			const sortFilter = document.getElementById('sortFilter');
			if (sortFilter && sortFilter.value) {
				if (sortFilter.value === 'newest') {
					filtered.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
				} else if (sortFilter.value === 'oldest') {
					filtered.sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));
				} else if (sortFilter.value === 'loss-high') {
					filtered.sort((a, b) => (b.lossAmount || 0) - (a.lossAmount || 0));
				} else if (sortFilter.value === 'loss-low') {
					filtered.sort((a, b) => (a.lossAmount || 0) - (b.lossAmount || 0));
				}
			}

			const grid = document.getElementById('reportsGrid');
			if (!grid) return;

			if (filtered.length === 0) {
				grid.innerHTML = `
					<div class="empty-state" style="grid-column: 1 / -1;">
						<div class="empty-icon">🔍</div>
						<p class="empty-text">ไม่พบรายงาน</p>
						<a href="services-scammed-account.html" class="report-btn">แจ้งรายงาน</a>
					</div>
				`;
				return;
			}

			grid.innerHTML = filtered.map((report, index) => `
				<div class="report-card" style="animation-delay: ${index * 0.04}s;">
					<div class="card-header">
						<span class="card-type-badge">${getTypeBadge(report.type)}</span>
						<div class="card-date">${formatDate(report.incidentDate)}</div>
					</div>

					<div class="card-field">
						<div class="card-field-label">🆔 ไอดี</div>
						<div class="card-field-value">${report.accountId}</div>
					</div>

					${report.pageUrl ? `
						<div class="card-field">
							<div class="card-field-label">🔗 ลิงก์</div>
							<div class="card-field-value"><a href="${report.pageUrl}" target="_blank">ดูเพจ →</a></div>
						</div>
					` : ''}

					${report.gameUrl ? `
						<div class="card-field">
							<div class="card-field-label">🎮 บัญชี</div>
							<div class="card-field-value"><a href="${report.gameUrl}" target="_blank">ดูบัญชี →</a></div>
						</div>
					` : ''}

					<div class="card-method">${getMethodLabel(report.howScammed)}</div>

					<div class="card-loss">
						<div class="loss-label">💸 เสียหาย</div>
						<div class="loss-amount">${report.lossAmount.toLocaleString('th-TH', { maximumFractionDigits: 0 })} บาท</div>
					</div>

					<div class="card-description">${report.description}</div>

					<div class="card-footer">
						<button class="card-btn" onclick="showDetail(${report.id})">📋 ดู</button>
						<button class="card-btn" onclick="deleteReport(${report.id})">🗑️ ลบ</button>
					</div>
				</div>
			`).join('');
		}

		function showDetail(id) {
			const report = allReports.find(r => r.id === id);
			if (!report) return;

			const modal = document.getElementById('detailModal');
			const body = document.getElementById('modalBody');
			if (!modal || !body) return;

			body.innerHTML = `
				<div class="modal-header">📋 รายละเอียดเต็ม</div>
				<div style="font-size: 12px; line-height: 1.6; color: rgba(255,255,255,.8);">
					<strong>ประเภท:</strong> ${getTypeBadge(report.type)}<br>
					<strong>ไอดี:</strong> ${report.accountId}<br>
					<strong>OpenID:</strong> ${report.openId}<br>
					<strong>โดนโกง:</strong> ${formatDate(report.incidentDate)} ${report.incidentTime}<br>
					<strong>วิธีการ:</strong> ${getMethodLabel(report.howScammed)}<br>
					<strong>เสียหาย:</strong> ${report.lossAmount.toLocaleString('th-TH')} บาท<br>
					<strong>แจ้ง:</strong> ${new Date(report.timestamp).toLocaleString('th-TH')}<br><br>
					<strong>รายละเอียด:</strong><br>
					<div style="margin-top: 8px; padding: 10px; background: rgba(255,255,255,.02); border-radius: 6px; border-left: 2px solid rgba(255,107,107,.3);">${report.description.replace(/\n/g, '<br>')}</div>
				</div>
			`;

			modal.classList.add('active');
		}

		function deleteReport(id) {
			if (confirm('ต้องการลบรายงานนี้ใช่ไหม?')) {
				allReports = allReports.filter(r => r.id !== id);
				localStorage.setItem('scamReports', JSON.stringify(allReports));
				updateStats();
				renderReports();
			}
		}

		// Event listeners with null checks
		document.addEventListener('DOMContentLoaded', () => {
			const closeBtn = document.getElementById('closeModal');
			if (closeBtn) {
				closeBtn.addEventListener('click', () => {
					const modal = document.getElementById('detailModal');
					if (modal) {
						modal.classList.remove('active');
					}
				});
			}

			const typeFilter = document.getElementById('typeFilter');
			if (typeFilter) {
				typeFilter.addEventListener('change', renderReports);
			}

			const methodFilter = document.getElementById('methodFilter');
			if (methodFilter) {
				methodFilter.addEventListener('change', renderReports);
			}

			const sortFilter = document.getElementById('sortFilter');
			if (sortFilter) {
				sortFilter.addEventListener('change', renderReports);
			}

			loadReports();
		});
	</script>
  <!-- Chat Support Widget -->
  <script src="/chat-support.js"></script>
</body>
</html>
