<!DOCTYPE html>
<html lang="th">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Google - RENEKANKHA</title>
	<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîê</text></svg>">
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
	
	<style>
		:root {
			/* Professional Color Palette */
			--primary: #2563eb;
			--primary-light: #3b82f6;
			--primary-dark: #1d4ed8;
			--secondary: #64748b;
			--accent: #06b6d4;
			--success: #10b981;
			--warning: #f59e0b;
			--error: #ef4444;
			--info: #3b82f6;
			
			/* Background & Surface */
			--bg-primary: #ffffff;
			--bg-secondary: #f8fafc;
			--bg-tertiary: #f1f5f9;
			--surface: #ffffff;
			--surface-hover: #f8fafc;
			
			/* Text Colors */
			--text-primary: #0f172a;
			--text-secondary: #475569;
			--text-tertiary: #64748b;
			--text-muted: #94a3b8;
			
			/* Borders */
			--border-primary: #e2e8f0;
			--border-secondary: #f1f5f9;
			--border-accent: #3b82f6;
			
			/* Shadows */
			--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
			--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
			--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
			--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
		}

		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
			background: var(--bg-primary);
			color: var(--text-primary);
			line-height: 1.6;
			font-size: 16px;
		}

		/* Navigation */
		.nav {
			background: var(--surface);
			border-bottom: 1px solid var(--border-primary);
			padding: 1rem 0;
			position: sticky;
			top: 0;
			z-index: 100;
		}

		.nav-container {
			max-width: 1200px;
			margin: 0 auto;
			padding: 0 2rem;
			display: flex;
			justify-content: space-between;
			align-items: center;
		}

		.nav-brand {
			display: flex;
			align-items: center;
			gap: 0.75rem;
			text-decoration: none;
			color: var(--text-primary);
			font-weight: 700;
			font-size: 1.25rem;
		}

		.nav-brand-icon {
			font-size: 1.5rem;
		}

		.nav-links {
			display: flex;
			gap: 2rem;
			align-items: center;
		}

		.nav-link {
			color: var(--text-secondary);
			text-decoration: none;
			font-weight: 500;
			padding: 0.5rem 1rem;
			border-radius: 0.5rem;
			transition: all 0.2s ease;
		}

		.nav-link:hover,
		.nav-link.active {
			color: var(--primary);
			background: var(--surface-hover);
		}

		/* Main Content */
		.main-content {
			max-width: 800px;
			margin: 0 auto;
			padding: 4rem 2rem;
		}

		.page-header {
			text-align: center;
			margin-bottom: 3rem;
		}

		.page-title {
			font-size: 2.5rem;
			font-weight: 700;
			color: var(--text-primary);
			margin-bottom: 1rem;
			letter-spacing: -0.02em;
		}

		.page-subtitle {
			font-size: 1.1rem;
			color: var(--text-tertiary);
			max-width: 500px;
			margin: 0 auto;
			line-height: 1.5;
		}

		/* Form Card */
		.form-card {
			background: var(--surface);
			border: 1px solid var(--border-primary);
			border-radius: 1rem;
			padding: 2rem;
			box-shadow: var(--shadow-sm);
		}

		.form-group {
			margin-bottom: 1.5rem;
		}

		.form-label {
			display: block;
			font-weight: 600;
			color: var(--text-primary);
			margin-bottom: 0.5rem;
			font-size: 0.9rem;
		}

		.form-input,
		.form-textarea {
			width: 100%;
			padding: 0.75rem 1rem;
			border: 1px solid var(--border-primary);
			border-radius: 0.5rem;
			font-size: 1rem;
			color: var(--text-primary);
			background: var(--bg-primary);
			transition: all 0.2s ease;
		}

		.form-input:focus,
		.form-textarea:focus {
			outline: none;
			border-color: var(--primary);
			box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
		}

		.form-textarea {
			resize: vertical;
			min-height: 120px;
		}

		.form-help {
			font-size: 0.8rem;
			color: var(--text-muted);
			margin-top: 0.25rem;
		}

		/* Reason Options */
		.reason-options {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
			gap: 0.75rem;
			margin-top: 0.5rem;
		}

		.reason-option {
			padding: 0.75rem 1rem;
			border: 1px solid var(--border-primary);
			border-radius: 0.5rem;
			background: var(--bg-primary);
			cursor: pointer;
			transition: all 0.2s ease;
			font-size: 0.9rem;
			text-align: center;
		}

		.reason-option:hover {
			border-color: var(--primary);
			background: var(--surface-hover);
		}

		.reason-option.selected {
			border-color: var(--primary);
			background: rgba(37, 99, 235, 0.1);
			color: var(--primary);
		}

		/* Submit Button */
		.btn-submit {
			width: 100%;
			padding: 0.875rem 1.5rem;
			background: var(--primary);
			color: white;
			border: none;
			border-radius: 0.5rem;
			font-weight: 600;
			font-size: 1rem;
			cursor: pointer;
			transition: all 0.2s ease;
		}

		.btn-submit:hover {
			background: var(--primary-dark);
			transform: translateY(-1px);
		}

		.btn-submit:disabled {
			background: var(--text-muted);
			cursor: not-allowed;
			transform: none;
		}

		/* Status Messages */
		.status {
			margin-top: 1rem;
			padding: 0.75rem 1rem;
			border-radius: 0.5rem;
			font-weight: 500;
			text-align: center;
		}

		.status.loading {
			background: rgba(59, 130, 246, 0.1);
			color: var(--info);
			border: 1px solid rgba(59, 130, 246, 0.2);
		}

		.status.success {
			background: rgba(16, 185, 129, 0.1);
			color: var(--success);
			border: 1px solid rgba(16, 185, 129, 0.2);
		}

		.status.error {
			background: rgba(239, 68, 68, 0.1);
			color: var(--error);
			border: 1px solid rgba(239, 68, 68, 0.2);
		}

		/* Back Button */
		.back-btn {
			display: inline-flex;
			align-items: center;
			gap: 0.5rem;
			color: var(--text-primary);
			text-decoration: none;
			font-weight: 600;
			margin-bottom: 2rem;
			padding: 0.75rem 1.5rem;
			background: var(--primary);
			color: white;
			border-radius: 0.5rem;
			transition: all 0.2s ease;
			box-shadow: var(--shadow-sm);
		}

		.back-btn:hover {
			background: var(--primary-dark);
			transform: translateY(-2px);
			box-shadow: var(--shadow-md);
			color: white;
		}

		/* Info Box */
		.info-box {
			background: rgba(59, 130, 246, 0.05);
			border: 1px solid rgba(59, 130, 246, 0.2);
			border-radius: 0.5rem;
			padding: 1rem;
			margin-bottom: 1.5rem;
		}

		.info-box h4 {
			color: var(--info);
			font-size: 0.9rem;
			font-weight: 600;
			margin-bottom: 0.5rem;
		}

		.info-box p {
			color: var(--text-secondary);
			font-size: 0.85rem;
			line-height: 1.5;
		}

		/* Responsive Design */
		@media (max-width: 768px) {
			.nav-container {
				padding: 0 1rem;
			}

			.nav-links {
				gap: 1rem;
			}

			.main-content {
				padding: 2rem 1rem;
			}

			.page-title {
				font-size: 2rem;
			}

			.form-card {
				padding: 1.5rem;
			}

			.reason-options {
				grid-template-columns: 1fr;
			}
		}
	</style>
</head>
<body>
	<!-- Navigation -->
	<nav class="nav">
		<div class="nav-container">
			<a href="index.html" class="nav-brand">
				<div class="nav-brand-icon">üîê</div>
				<span>RENEKANKHA</span>
			</a>
			<div class="nav-links">
				<a href="index.html" class="nav-link">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
				<a href="authenticator.html" class="nav-link">2FA Authenticator</a>
				<a href="reports.html" class="nav-link">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</a>
				<a href="services.html" class="nav-link">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</a>
				<a href="orders.html" class="nav-link">‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</a>
				<!-- Login/Logout button will be added here by JavaScript -->
			</div>
		</div>
	</nav>

	<!-- Main Content -->
	<main class="main-content">
		<a href="services.html" class="back-btn">
			‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
		</a>

		<div class="page-header">
			<h1 class="page-title">‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Google</h1>
			<p class="page-subtitle">‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Google Search ‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≤‡∏á‡πÜ</p>
		</div>

		<div class="form-card">
			<div class="info-box">
				<h4>üìã ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</h4>
				<p>‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Google ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 1-7 ‡∏ß‡∏±‡∏ô ‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏¢‡∏∑‡πà‡∏ô‡∏Ç‡∏≠</p>
			</div>

			<form id="removalForm">
				<div class="form-group">
					<label for="urls" class="form-label">‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö</label>
					<textarea id="urls" class="form-textarea" placeholder="https://example.com/page1&#10;https://example.com/page2&#10;https://example.com/page3" required></textarea>
					<div class="form-help">‡∏Å‡∏£‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÅ‡∏¢‡∏Å‡∏Å‡∏±‡∏ô (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 20 ‡∏•‡∏¥‡∏á‡∏Å‡πå)</div>
				</div>

				<div class="form-group">
					<label for="reason" class="form-label">‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</label>
					<input type="text" id="reason" class="form-input" placeholder="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏≠‡∏∑‡πà‡∏ô‡πÜ" required>
					<div class="reason-options">
						<div class="reason-option" data-reason="‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß">‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</div>
						<div class="reason-option" data-reason="‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</div>
						<div class="reason-option" data-reason="‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î‡∏•‡∏¥‡∏Ç‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå">‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î‡∏•‡∏¥‡∏Ç‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</div>
						<div class="reason-option" data-reason="‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°">‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</div>
						<div class="reason-option" data-reason="‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á</div>
						<div class="reason-option" data-reason="‡∏≠‡∏∑‡πà‡∏ô‡πÜ">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</div>
					</div>
				</div>

				<div class="form-group">
					<label for="contact" class="form-label">‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</label>
					<input type="text" id="contact" class="form-input" placeholder="Line ID, Email ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå" required>
					<div class="form-help">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ</div>
				</div>

				<div class="form-group">
					<label for="details" class="form-label">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</label>
					<textarea id="details" class="form-textarea" placeholder="‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô..." required></textarea>
					<div class="form-help">‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</div>
				</div>

				<button type="submit" class="btn-submit" id="submitBtn">
					‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
				</button>

				<div id="status" class="status" style="display: none;"></div>
			</form>
	</div>
	</main>

	<script>
		// Form Elements
		const form = document.getElementById('removalForm');
		const submitBtn = document.getElementById('submitBtn');
		const statusDiv = document.getElementById('status');
		const reasonInput = document.getElementById('reason');

		// Status Messages
		function setStatus(message, type = 'success') {
			statusDiv.textContent = message;
			statusDiv.className = `status ${type}`;
			statusDiv.style.display = 'block';
		}

		// Parse URLs
		function parseUrls() {
			const urlsText = document.getElementById('urls').value.trim();
			if (!urlsText) return [];
			
			return urlsText
				.split(/\n+/)
				.map(url => url.trim())
				.filter(url => url.length > 0)
				.slice(0, 20); // Limit to 20 URLs
		}

		// Reason Options
		const reasonOptions = document.querySelectorAll('.reason-option');
		reasonOptions.forEach(option => {
			option.addEventListener('click', () => {
				// Remove selected class from all options
				reasonOptions.forEach(opt => opt.classList.remove('selected'));
				
				// Add selected class to clicked option
				option.classList.add('selected');
				
				// Set reason input value
				reasonInput.value = option.dataset.reason;
			});
		});

		// Form Submission
		async function submitForm(event) {
			event.preventDefault();
			
			// Get form data
			const targetUrls = parseUrls();
			const reason = reasonInput.value.trim();
			const contact = document.getElementById('contact').value.trim();
			const details = document.getElementById('details').value.trim();

			// Validate required fields
			if (targetUrls.length === 0 || !reason || !contact || !details) {
				setStatus('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô', 'error');
				return;
			}

			// Show loading state
			submitBtn.disabled = true;
			submitBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠...';
			setStatus('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà...', 'loading');

			try {
				const payload = {
					targetUrls,
					reason,
					contact,
					details
				};

				const response = await fetch('/api/services/google-removal', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json'
					},
					body: JSON.stringify(payload)
				});

				if (!response.ok) {
					throw new Error('Failed to submit request');
				}

				const result = await response.json();
				
				// Success
				setStatus(`‚úÖ ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÄ‡∏Ñ‡∏™: ${result.ticket?.id || 'N/A'}`, 'success');
				
				// Reset form
				form.reset();
				reasonOptions.forEach(opt => opt.classList.remove('selected'));
				
			} catch (error) {
				console.error('Submission error:', error);
				setStatus('‚ùå ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á', 'error');
			} finally {
				// Reset button state
				submitBtn.disabled = false;
				submitBtn.textContent = '‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•';
			}
		}

		// Event Listeners
		form.addEventListener('submit', submitForm);

		// Check user status and update navigation
		async function checkUserStatus() {
			try {
				const res = await fetch('/api/auth/me', { credentials: 'include' });
				const data = await res.json();
				
				const navLinks = document.querySelector('.nav-links');
				if (navLinks) {
					if (data.ok && data.user) {
						// User is logged in - show logout button
						const existingLoginBtn = navLinks.querySelector('a[href="login.html"]');
						if (existingLoginBtn) {
							existingLoginBtn.remove();
						}
						
						const existingLogoutBtn = navLinks.querySelector('.logout-btn');
						if (existingLogoutBtn) {
							existingLogoutBtn.remove();
						}
						
						const logoutBtn = document.createElement('a');
						logoutBtn.href = '#';
						logoutBtn.className = 'nav-link logout-btn';
						logoutBtn.innerHTML = `üë§ ${data.user.name || '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ'} (‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö)`;
						logoutBtn.addEventListener('click', (e) => {
							e.preventDefault();
							logout();
						});
						
						navLinks.appendChild(logoutBtn);
					} else {
						// User is not logged in - show login button
						const existingLogoutBtn = navLinks.querySelector('.logout-btn');
						if (existingLogoutBtn) {
							existingLogoutBtn.remove();
						}
						
						const existingLoginBtn = navLinks.querySelector('a[href="login.html"]');
						if (!existingLoginBtn) {
							const loginBtn = document.createElement('a');
							loginBtn.href = 'login.html';
							loginBtn.className = 'nav-link';
							loginBtn.textContent = 'üë§ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö';
							
							navLinks.appendChild(loginBtn);
						}
					}
				}
			} catch (error) {
				console.error('Error checking user status:', error);
			}
		}

		// Logout function
		async function logout() {
			try {
				const res = await fetch('/api/auth/logout', {
					method: 'POST',
					credentials: 'include'
				});
				
				if (res.ok) {
					setStatus('‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', 'success');
					setTimeout(() => {
						location.reload();
					}, 1500);
				} else {
					setStatus('‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', 'error');
				}
			} catch (error) {
				console.error('Logout error:', error);
				setStatus('‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', 'error');
			}
		}

		// Initialize
		document.addEventListener('DOMContentLoaded', () => {
			checkUserStatus();
		});
	</script>
  <!-- Chat Support Widget -->
  <script src="/chat-support.js"></script>
</body>
</html>
